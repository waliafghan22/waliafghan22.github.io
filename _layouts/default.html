<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: 'en' }}">
<head>
    <!-- ========================================
         ESSENTIAL META TAGS
         ======================================== -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <!-- ========================================
         SEO PLUGIN (Handles title, description, og tags, etc.)
         ======================================== -->
    {% seo %}
    
    <!-- ========================================
         MOBILE OPTIMIZATION
         ======================================== -->
    <meta name="theme-color" content="#6200EA">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="{{ site.title }}">
    
    <!-- ========================================
         FAVICONS (only include existing assets)
         ======================================== -->
    <link rel="icon" type="image/x-icon" href="{{ '/images/favicon.ico' | relative_url }}">
    <link rel="manifest" href="{{ '/manifest.json' | relative_url }}">
    
    <!-- ========================================
         CANONICAL URL
         ======================================== -->
    <link rel="canonical" href="{{ page.url | absolute_url }}">
    
    <!-- ========================================
         PERFORMANCE - DNS PREFETCH
         ======================================== -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    
    <!-- ========================================
         PERFORMANCE - PRELOAD CRITICAL FONTS
         ======================================== -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"></noscript>
    
    <!-- ========================================
         ICONS - FONT AWESOME
         ======================================== -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
          integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
          crossorigin="anonymous" 
          referrerpolicy="no-referrer">
    
    <!-- ========================================
         STYLESHEETS - LOAD WITHOUT FOUC
         ======================================== -->
    <link rel="stylesheet" href="{{ '/assets/css/responsive.css' | relative_url }}">

    <style>
        /* Prevent initial flash of skip link before CSS applies */
        .skip-to-content {
            position: absolute;
            left: -9999px;
            top: auto;
            width: 1px;
            height: 1px;
            overflow: hidden;
        }
        .skip-to-content:focus {
            position: fixed;
            left: 1rem;
            top: 1rem;
            width: auto;
            height: auto;
            padding: 0.5rem 0.75rem;
            background: #000;
            color: #fff;
            z-index: 9999;
            border-radius: 6px;
        }
    </style>
</head>
<body>
    <!-- ========================================
         SKIP TO CONTENT (Accessibility)
         ======================================== -->
    <a href="#main-content" class="skip-to-content">Skip to main content</a>
    
    <!-- ========================================
         HEADER / NAVIGATION
         ======================================== -->
    {% include header.html %}
    
    <!-- ========================================
         MAIN CONTENT
         ======================================== -->
    <main id="main-content" role="main">
        {{ content }}
    </main>
    
    <!-- ========================================
         FOOTER
         ======================================== -->
    {% include footer.html %}
    
    <!-- ========================================
         JAVASCRIPT - OPTIMIZED LOADING
         ======================================== -->
    <script src="{{ '/assets/js/main.js' | relative_url }}" defer></script>
    
    {% if jekyll.environment == "production" and site.google_analytics %}
    <!-- ========================================
         GOOGLE ANALYTICS (enabled when google_analytics is set)
         ======================================== -->
    <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', '{{ site.google_analytics }}', { 'anonymize_ip': true });
    </script>
    {% endif %}
    
    <!-- ========================================
         NO SCRIPT FALLBACK
         ======================================== -->
    <noscript>
        <style>
            .back-to-top,
            .theme-toggle {
                display: none !important;
            }
        </style>
    </noscript>
</body>
</html>